
TESTOBJS = psscaex.o pdscaexinfo.o

FC       = mpif90
CC       = mpicc
CC_FLAGS   = -Wall
FC_FLAGS   = -O3

#LAST_FLAGS = -lgfortran -lm -lrt

#OPTS    = -O2 -frecursive
#NOOPT   = -O0 -frecursive

BLASLIB      = ../lib-lapack/lib/librefblas.a
LAPACKLIB    = ../lib-lapack/lib/liblapack.a

#  BLAS, LAPACK (and possibly other) libraries needed for linking test programs
SCALAPACKLIB  = ../lib-scalapack/libscalapack.a
LIBS          = $(LAPACKLIB) $(BLASLIB)

all : psscaex
	@echo Make Complete

psscaex: $(TESTOBJS)
	$(FC) $(FC_FLAGS) -o xsscaex $(TESTOBJS) $(SCALAPACKLIB) $(LIBS)

run :
	mpirun -np 4 ./xsscaex

clean :
	rm -rf *.out *~ *.o $(TARGETS)
